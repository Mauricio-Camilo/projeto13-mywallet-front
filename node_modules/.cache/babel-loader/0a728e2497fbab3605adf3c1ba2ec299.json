{"ast":null,"code":"var _jsxFileName = \"/home/mauricio/Documentos/Driven/Projetos/projeto10-trackit/src/Componentes/TelaHabitos/InserirHabito.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from \"react\";\nimport UserContext from \"../contexts/UserContext\";\nimport axios from \"axios\";\nimport { ThreeDots } from 'react-loader-spinner';\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction InserirHabito(props) {\n  _s();\n\n  const loading = /*#__PURE__*/_jsxDEV(ThreeDots, {\n    color: \"#FFFFFF\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 21\n  }, this);\n\n  const {\n    setVisivel,\n    habito,\n    setHabito,\n    diasSelecionados,\n    setDiasSelecionados\n  } = props;\n  const {\n    token,\n    setToken\n  } = useContext(UserContext);\n  const tokenLS = localStorage.getItem(\"token\");\n  const config = {\n    headers: {\n      \"Authorization\": `Bearer ${tokenLS}`\n    }\n  };\n  const APIPost = \"https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits\"; // Estado criado para colocar a animação de loading no botão de salvar\n\n  const [salvar, setSalvar] = useState(\"Salvar\"); // Estado criado para desabilitar o botão enquanto a pagina está carregando\n\n  const [selecionado, setSelecionado] = useState(false); // Lista para fazer um map dos dias da semana e seus ids\n\n  const dias = [{\n    dia: \"D\",\n    id: 0\n  }, {\n    dia: \"S\",\n    id: 1\n  }, {\n    dia: \"T\",\n    id: 2\n  }, {\n    dia: \"Q\",\n    id: 3\n  }, {\n    dia: \"Q\",\n    id: 4\n  }, {\n    dia: \"S\",\n    id: 5\n  }, {\n    dia: \"S\",\n    id: 6\n  }]; // Estado usado para esconder a tela de criar hábitos ao clicar no botão cancelar\n\n  const [cancelarHabito, setCancelarHabito] = useState(false);\n\n  function selecionarDia(dia, id) {\n    const jaSelecionado = diasSelecionados.has(id); // Pergunta pro meu estado se ele já tem esse id, retorna true ou false\n\n    if (jaSelecionado) {\n      // Se eu já tinha selecionado e clicar de novo\n      diasSelecionados.delete(id); // eu preciso tirar o id do mapa\n\n      setDiasSelecionados(new Map(diasSelecionados)); // atualizo o mapa sem o id que acabei de clicar\n    } else {\n      // Se eu estou clicando pela primeira vez\n      setDiasSelecionados(new Map(diasSelecionados.set(id, dia))); // atualizo o mapa colocando as informações do id e do dia nele.\n    }\n  }\n  /* Função criada para colocar os estados em condição de esconder a tela de \n  criar hábitos e reabilitar o botão de + no componente pai de inserir hábitos */\n\n\n  function resetarHabito() {\n    setCancelarHabito(true);\n    setVisivel(false);\n  }\n  /* Função criada para zerar os inputs no caso do hábito ter sido salvo com sucesso */\n\n\n  function zerarInputs() {\n    setHabito();\n    setDiasSelecionados(new Map());\n  }\n  /* Função que faz o post para o servidor do hábito criado, e também faz o efeito\n  de cancelar, para colocar a tela no estado inicial */\n\n\n  function salvarHabito() {\n    setSalvar(loading);\n    setSelecionado(true);\n    const promise = axios.post(APIPost, {\n      name: habito,\n      days: [...diasSelecionados.keys()] // Pega apenas os ids do mapa\n\n    }, config);\n    promise.then(response => {\n      resetarHabito();\n      zerarInputs();\n      window.location.reload();\n    });\n    promise.catch(response => {\n      alert(\"Falha no envio dos dados, por favor tente novamente\");\n      resetarHabito();\n    });\n  } // COLOCAR O FORM COM REQUIRED NESSE INPUT\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: cancelarHabito ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(Container, {\n      selecionado: selecionado,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"nome do h\\xE1bito\",\n        onChange: e => setHabito(e.target.value),\n        value: habito\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Days, {\n        children: dias.map(dia => {\n          const checkSelecionado = diasSelecionados.has(dia.id); // Meus dias selecionados tem esse id? Lembrando que o id é iterado\n          // Cada vez que clico em um dia, o estado é alterado, então o componente é novamente renderizado.\n          // Ao clicar, eu atualizo meu mapa, então esse if vai achar o id no mapa\n          // Ao achar o id no mapa, vai alterar a prop abaixo de selecionado para true\n\n          return /*#__PURE__*/_jsxDEV(DayWeek, {\n            selecionado: checkSelecionado,\n            onClick: () => selecionarDia(dia.dia, dia.id),\n            children: dia.dia\n          }, dia.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Actions, {\n        children: [/*#__PURE__*/_jsxDEV(Cancelar, {\n          onClick: () => resetarHabito(),\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          selecionado: selecionado,\n          onClick: () => salvarHabito(),\n          children: salvar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n}\n/* Função que responde a um determinado estado vindo do mapa por props que vai alterar\na cor do botão ao clicar no dia da semana, a cor depende apenas do estado */\n\n\n_s(InserirHabito, \"R0Xe5Cfwe7CHYZOuxgiDnsnP7fM=\");\n\n_c = InserirHabito;\n\nfunction corBotao(selecionado) {\n  if (selecionado) return \"var(--cor-cinza-dias)\";else return \"#FFFFFF\";\n}\n\nfunction mudarBotao(selecionado) {\n  if (selecionado) return \"0.7\";else return \"1\";\n}\n\nfunction resetarBotao(selecionado) {\n  if (selecionado === true) return \"none\";else return \"display\";\n}\n\nfunction corInput(selecionado) {\n  if (selecionado) return \"var(--cor-cinza-check)\";else return \"#FFFFFF\";\n}\n\nconst Container = styled.div`\n    width: 340px;\n    min-height: 180px;\n    border-radius: 5px;\n    margin: 0 auto;\n    margin-bottom: 28px;\n    background-color: #FFFFFF;\n\n        input {\n            width: 303px;\n            height: 45px;\n            font-size: 20px;\n            color: var(--cor-cinza-letras);\n            border-radius: 5px;\n            border: 1px solid var(--cor-cinza-borda);\n            margin: 0 19px;\n            margin-top: 18px;\n            margin-bottom: 10px;\n            padding-left: 11px;\n            background-color: ${props => corInput(props.selecionado)};\n            pointer-events: ${props => resetarBotao(props.selecionado)};;\n        }\n`;\n_c2 = Container;\nconst Days = styled.div`\n     display: flex;\n     gap: 4px;\n     margin-left: 19px;\n`;\n_c3 = Days;\nconst DayWeek = styled.button`\n    font-size: 19px;\n    color: var(--cor-cinza-borda);\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n    border: 1px solid var(--cor-cinza-borda);\n    background-color: ${props => corBotao(props.selecionado)}; \n`; // Essa props selecionado serve para ver se eu cliquei ou não no dia\n// Quando o botão é clicado, ele chama essa função pata alterar a cor dependendo do clique.\n\n_c4 = DayWeek;\nconst Actions = styled.div`\n    display: flex;\n    justify-content: right;\n    align-items: center;\n    padding-top: 29px;\n    padding-right: 16px;\n`;\n_c5 = Actions;\nconst Button = styled.button`\n    font-size: 16px;\n    color: #FFFFFF;\n    width: 84px;\n    height: 35px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n    border: var(--cor-azul-claro)\n    margin-left: 10px;\n    background-color: var(--cor-azul-claro);\n    opacity: ${props => mudarBotao(props.selecionado)};\n    pointer-events: ${props => resetarBotao(props.selecionado)}; \n`;\n_c6 = Button;\nconst Cancelar = styled.p`\n    font-size: 16px;\n    color: var(--cor-azul-claro);\n`;\n_c7 = Cancelar;\nexport default InserirHabito;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"InserirHabito\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Days\");\n$RefreshReg$(_c4, \"DayWeek\");\n$RefreshReg$(_c5, \"Actions\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"Cancelar\");","map":{"version":3,"sources":["/home/mauricio/Documentos/Driven/Projetos/projeto10-trackit/src/Componentes/TelaHabitos/InserirHabito.js"],"names":["useState","useContext","UserContext","axios","ThreeDots","styled","InserirHabito","props","loading","setVisivel","habito","setHabito","diasSelecionados","setDiasSelecionados","token","setToken","tokenLS","localStorage","getItem","config","headers","APIPost","salvar","setSalvar","selecionado","setSelecionado","dias","dia","id","cancelarHabito","setCancelarHabito","selecionarDia","jaSelecionado","has","delete","Map","set","resetarHabito","zerarInputs","salvarHabito","promise","post","name","days","keys","then","response","window","location","reload","catch","alert","e","target","value","map","checkSelecionado","corBotao","mudarBotao","resetarBotao","corInput","Container","div","Days","DayWeek","button","Actions","Button","Cancelar","p"],"mappings":"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","sourcesContent":["import { useState, useContext } from \"react\";\nimport UserContext from \"../contexts/UserContext\";\nimport axios from \"axios\";\nimport { ThreeDots } from  'react-loader-spinner';\nimport styled from \"styled-components\";\n\n\nfunction InserirHabito(props) {\n\n    const loading = <ThreeDots color=\"#FFFFFF\" />;\n\n    const {setVisivel, habito, setHabito, \n    diasSelecionados, setDiasSelecionados} = props;\n\n    const { token, setToken } = useContext(UserContext);\n\n    const tokenLS = localStorage.getItem(\"token\");\n    \n    const config = {\n        headers: {\n            \"Authorization\": `Bearer ${tokenLS}`\n        }\n    }\n\n    const APIPost = \"https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits\";\n\n    // Estado criado para colocar a animação de loading no botão de salvar\n    const [salvar, setSalvar] = useState(\"Salvar\");\n\n    // Estado criado para desabilitar o botão enquanto a pagina está carregando\n    const [selecionado, setSelecionado] = useState(false);\n\n    // Lista para fazer um map dos dias da semana e seus ids\n    const dias = [{ dia: \"D\", id: 0 }, { dia: \"S\", id: 1 }, { dia: \"T\", id: 2 },\n    { dia: \"Q\", id: 3 }, { dia: \"Q\", id: 4 }, { dia: \"S\", id: 5 }, { dia: \"S\", id: 6 },]\n\n    // Estado usado para esconder a tela de criar hábitos ao clicar no botão cancelar\n    const [cancelarHabito, setCancelarHabito] = useState(false);\n\n    function selecionarDia(dia, id) {\n        const jaSelecionado = diasSelecionados.has(id); // Pergunta pro meu estado se ele já tem esse id, retorna true ou false\n        if (jaSelecionado) { // Se eu já tinha selecionado e clicar de novo\n            diasSelecionados.delete(id); // eu preciso tirar o id do mapa\n            setDiasSelecionados(new Map(diasSelecionados)); // atualizo o mapa sem o id que acabei de clicar\n        }\n        else { // Se eu estou clicando pela primeira vez\n            setDiasSelecionados(new Map(diasSelecionados.set(id, dia)));\n            // atualizo o mapa colocando as informações do id e do dia nele.\n        }\n    }\n/* Função criada para colocar os estados em condição de esconder a tela de \ncriar hábitos e reabilitar o botão de + no componente pai de inserir hábitos */\n    function resetarHabito() {\n        setCancelarHabito(true);\n        setVisivel(false);\n    }\n\n/* Função criada para zerar os inputs no caso do hábito ter sido salvo com sucesso */\n    function zerarInputs () {\n        setHabito();\n        setDiasSelecionados(new Map());\n    }\n\n/* Função que faz o post para o servidor do hábito criado, e também faz o efeito\nde cancelar, para colocar a tela no estado inicial */\n    function salvarHabito() {\n        setSalvar(loading);\n        setSelecionado(true);\n        const promise = axios.post(APIPost, {\n            name: habito,\n            days: [...diasSelecionados.keys()] // Pega apenas os ids do mapa\n        }, config);\n        promise.then(response => {\n            resetarHabito();\n            zerarInputs();\n            window.location.reload();\n        })\n        promise.catch(response => {\n            alert(\"Falha no envio dos dados, por favor tente novamente\");\n            resetarHabito();\n        })\n    }\n    \n    // COLOCAR O FORM COM REQUIRED NESSE INPUT\n    return (\n        <>\n            {cancelarHabito ?\n                <></> :\n                <Container selecionado={selecionado}>\n                    <input type=\"text\" placeholder=\"nome do hábito\"\n                        onChange={(e) => setHabito(e.target.value)}\n                        value={habito}>\n                    </input>\n                    <Days>\n                        {dias.map(dia => {\n                            const checkSelecionado = diasSelecionados.has(dia.id)\n                            // Meus dias selecionados tem esse id? Lembrando que o id é iterado\n                            // Cada vez que clico em um dia, o estado é alterado, então o componente é novamente renderizado.\n                            // Ao clicar, eu atualizo meu mapa, então esse if vai achar o id no mapa\n                            // Ao achar o id no mapa, vai alterar a prop abaixo de selecionado para true\n                            return (\n                                <DayWeek key={dia.id} selecionado={checkSelecionado} onClick={() => selecionarDia(dia.dia, dia.id)}>\n                                    {dia.dia}\n                                </DayWeek>)\n                        }\n                        )}\n                    </Days>\n                    <Actions>\n                        <Cancelar onClick={() => resetarHabito()}>Cancelar</Cancelar>\n                        <Button selecionado={selecionado} onClick={() => salvarHabito()}>{salvar}</Button>\n                    </Actions>\n                </Container>\n            }\n        </>\n    )\n}\n\n/* Função que responde a um determinado estado vindo do mapa por props que vai alterar\na cor do botão ao clicar no dia da semana, a cor depende apenas do estado */\nfunction corBotao(selecionado) {\n    if (selecionado) return \"var(--cor-cinza-dias)\";\n    else return \"#FFFFFF\";\n}\n\nfunction mudarBotao(selecionado) {\n    if (selecionado) return \"0.7\";\n    else return \"1\";\n}\n\nfunction resetarBotao (selecionado) {\n    if (selecionado === true) return \"none\";\n    else return \"display\";\n}\n\nfunction corInput(selecionado) {\n    if (selecionado) return \"var(--cor-cinza-check)\";\n    else return \"#FFFFFF\";\n}\n\nconst Container = styled.div`\n    width: 340px;\n    min-height: 180px;\n    border-radius: 5px;\n    margin: 0 auto;\n    margin-bottom: 28px;\n    background-color: #FFFFFF;\n\n        input {\n            width: 303px;\n            height: 45px;\n            font-size: 20px;\n            color: var(--cor-cinza-letras);\n            border-radius: 5px;\n            border: 1px solid var(--cor-cinza-borda);\n            margin: 0 19px;\n            margin-top: 18px;\n            margin-bottom: 10px;\n            padding-left: 11px;\n            background-color: ${(props) => corInput(props.selecionado)};\n            pointer-events: ${(props) => resetarBotao(props.selecionado)};;\n        }\n`\n\nconst Days = styled.div`\n     display: flex;\n     gap: 4px;\n     margin-left: 19px;\n`\nconst DayWeek = styled.button`\n    font-size: 19px;\n    color: var(--cor-cinza-borda);\n    width: 30px;\n    height: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n    border: 1px solid var(--cor-cinza-borda);\n    background-color: ${(props) => corBotao(props.selecionado)}; \n`\n// Essa props selecionado serve para ver se eu cliquei ou não no dia\n// Quando o botão é clicado, ele chama essa função pata alterar a cor dependendo do clique.\n\n\nconst Actions = styled.div`\n    display: flex;\n    justify-content: right;\n    align-items: center;\n    padding-top: 29px;\n    padding-right: 16px;\n`\nconst Button = styled.button`\n    font-size: 16px;\n    color: #FFFFFF;\n    width: 84px;\n    height: 35px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n    border: var(--cor-azul-claro)\n    margin-left: 10px;\n    background-color: var(--cor-azul-claro);\n    opacity: ${(props) => mudarBotao(props.selecionado)};\n    pointer-events: ${(props) => resetarBotao(props.selecionado)}; \n`\n\nconst Cancelar = styled.p`\n    font-size: 16px;\n    color: var(--cor-azul-claro);\n`\nexport default InserirHabito;\n\n"]},"metadata":{},"sourceType":"module"}